CREATE TABLE "USER"(
  UID UUID PRIMARY KEY NOT NULL,
  FIRST_NAME TEXT NOT NULL,
  LAST_NAME TEXT,
  EMAIL TEXT NOT NULL,
  PASSWORD_SALT INT NOT NULL,
  PASSWORD_HASH CHAR(64)
);

CREATE TABLE "GROUP"(
  GID UUID PRIMARY KEY NOT NULL,
  GNAME TEXT NOT NULL,
  CREATED TIMESTAMP NOT NULL
);

CREATE TABLE "GROUP_MEMBERSHIP" (
  GID UUID REFERENCES "GROUP" (GID),
  UID UUID REFERENCES "USER" (UID)
);

CREATE TABLE "TRANSACTION" (
  TXID UUID PRIMARY KEY NOT NULL,
  FROM_USER UUID REFERENCES "USER" (UID),
  TO_USER UUID REFERENCES "USER" (UID),
  CURRENCY INT NOT NULL,
  AMOUNT NUMERIC NOT NULL,
  TIME TIMESTAMP NOT NULL,
  GID UUID REFERENCES "USER" (UID),
  DESCRIPTION TEXT,
  STATUS INT NOT NULL
);


sudo -u postgres -i
psql -d webapp
