CREATE TABLE USER_ACCOUNT(
  UID UUID PRIMARY KEY NOT NULL,
  FIRST_NAME TEXT NOT NULL,
  LAST_NAME TEXT,
  EMAIL TEXT NOT NULL UNIQUE,
  PASSWORD_SALT INT NOT NULL,
  PASSWORD_HASH CHAR(64),
  NET NUMERIC NOT NULL
);

CREATE TABLE USER_GROUP(
  GID UUID PRIMARY KEY NOT NULL,
  GNAME TEXT NOT NULL,
  CREATED TIMESTAMP NOT NULL
);

CREATE TABLE GROUP_MEMBERSHIP (
  GID UUID REFERENCES USER_GROUP (GID),
  UID UUID REFERENCES USER_ACCOUNT (UID)
);

CREATE TABLE TRANSACTION (
  TXID UUID PRIMARY KEY NOT NULL,
  FROM_USER UUID REFERENCES USER_ACCOUNT (UID),
  TO_USER UUID REFERENCES USER_ACCOUNT (UID),
  CURRENCY INT NOT NULL,
  AMOUNT NUMERIC NOT NULL,
  TIME TIMESTAMP NOT NULL,
  DESCRIPTION TEXT,
  STATUS INT NOT NULL,
  GID UUID REFERENCES USER_GROUP (GID)
);


sudo -u postgres -i
psql -d webapp
